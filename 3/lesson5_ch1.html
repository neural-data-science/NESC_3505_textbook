

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chapter 1: Preparing Data &#8212; Neural Data Science</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-dropdown.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://dalpsychneuro.github.io/NESC_3505_textbook/3/lesson5_ch1.html" />
    <link rel="shortcut icon" href="../_static/NESC3505_favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Chapter 2: Concatenating Data" href="lesson5_ch2.html" />
    <link rel="prev" title="Lesson 2: Intermediate Python" href="lesson2.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">


<!-- Opengraph tags -->
<meta property="og:url"         content="https://dalpsychneuro.github.io/NESC_3505_textbook/3/lesson5_ch1.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="Chapter 1: Preparing Data" />
<meta property="og:description" content="Chapter 1: Preparing Data  View this lesson on datacamp  Merging DataFrames is a common need in neural data science. Often you’ll have data files from individua" />
<meta property="og:image"       content="https://dalpsychneuro.github.io/NESC_3505_textbook/_static/NESC3505_icon.png" />

<meta name="twitter:card" content="summary" />


  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/NESC3505_icon.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Neural Data Science</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Welcome
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  About This Course
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../1/why.html">
   Start with why
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../1/learning_objectives.html">
   Learning Objectives for this Course
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../syllabus.html">
   Syllabus
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../1/teaching_approach.html">
   Teaching Approach
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../1/open.html">
   Open Resources
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../1/learning_approach.html">
   How To Rock This Course
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Getting Started
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../2/introduction.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../2/learning_objectives.html">
   Learning Objectives
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../2/what_is_nds.html">
   What is Data Science?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../2/tools_for_nds.html">
   Tools for Neural Data Science
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../2/class_tech.html">
   Technologies Used in this Class
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../2/coding.html">
   Coding Tools
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../2/alltogether.html">
   Putting It All Together
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../2/get_going.html">
   Get Going!
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Introducing Python
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="introduction.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="learning_objectives.html">
   Learning Objectives
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="getting_help.html">
   Getting Help with Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lesson1.html">
   Lesson 1: Introduction to Python
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="reference internal" href="lesson2.html">
   Lesson 2: Intermediate Python
  </a>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Chapter 1: Preparing Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="lesson5_ch2.html">
     Chapter 2: Concatenating Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="lesson5_ch3.html">
     Chapter 3: Merging Data
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Single Unit Data
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../single_unit/introduction.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../single_unit/learning_objectives.html">
   Learning Objectives
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../single_unit/intro_spike_trains.html">
   Introduction to Spike Trains
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../single_unit/corr_spike_trains.html">
   Correlating Spike Trains
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  EEG Data
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../eeg/introduction.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../eeg/learning_objectives.html">
   Learning Objectives
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../eeg/time_freq.html">
   Time and Frequency Domains
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../eeg/erps.html">
   Event-Related Potentials (ERPs)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../eeg/components.html">
   ERP Components
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../eeg/preprocessing.html">
   Preprocessing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../eeg/mne-python.html">
   MNE-Python
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  MRI Data
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../mri/introduction.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mri/learning_objectives.html">
   Learning Objectives
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  References
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../zrefs.html">
   References
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/3/lesson5_ch1.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/3/lesson5_ch1.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/executablebooks/jupyter-book/blob/master/3/lesson5_ch1.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#use-a-for-loop-to-read-in-multiple-files">
   Use a
   <code class="docutils literal notranslate">
    <span class="pre">
     for
    </span>
   </code>
   loop to read in multiple files:
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#adding-columns-of-data-to-a-dataframe">
   Adding columns of data to a DataFrame
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reindexing-dataframes">
   Reindexing DataFrames
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#applications-of-reindexing">
   Applications of reindexing
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#bonus-section-looping">
   Bonus Section: Looping
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-enumerate-function">
     The
     <code class="docutils literal notranslate">
      <span class="pre">
       enumerate()
      </span>
     </code>
     function
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#arithmetic-with-series-and-dataframes">
   Arithmetic with Series and DataFrames
  </a>
 </li>
</ul>

        </nav>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="chapter-1-preparing-data">
<h1>Chapter 1: Preparing Data<a class="headerlink" href="#chapter-1-preparing-data" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://learn.datacamp.com/courses/merging-dataframes-with-pandas">View this lesson on datacamp</a></p>
<p>Merging DataFrames is a common need in neural data science. Often you’ll have data files from individual participants (animals, humans, cells, etc.) that you want to analyze at the group level, so you’ll need to read all the data files in and work with them as one large DataFrame. In this chapter we learn how to do this.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
<p>To read a single file into a dataframe, use the following format:</p>
<p><code class="docutils literal notranslate"><span class="pre">variable</span> <span class="pre">=</span> <span class="pre">pd.read_csv('filename.csv')</span></code></p>
<p>For example, this reads a file named <code class="docutils literal notranslate"><span class="pre">fav_colour.csv</span></code> and saves it as a pandas DataFrame called <code class="docutils literal notranslate"><span class="pre">colour_dat</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">colour_dat</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;fav_colour.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>We can see the resulting DataFrame by executing the name of the variable:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">colour_dat</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Participant num</th>
      <th>Fav Colour</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>blue</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>red</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>green</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>purple</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>red</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6</td>
      <td>green</td>
    </tr>
    <tr>
      <th>6</th>
      <td>7</td>
      <td>orange</td>
    </tr>
    <tr>
      <th>7</th>
      <td>8</td>
      <td>yellow</td>
    </tr>
    <tr>
      <th>8</th>
      <td>9</td>
      <td>yellow</td>
    </tr>
    <tr>
      <th>9</th>
      <td>10</td>
      <td>pink</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="section" id="use-a-for-loop-to-read-in-multiple-files">
<h2>Use a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop to read in multiple files:<a class="headerlink" href="#use-a-for-loop-to-read-in-multiple-files" title="Permalink to this headline">¶</a></h2>
<p>In many data science cases, we have data in multiple files. For example, if we run an experiment with human participants, we might have a data file from each participant, but for group analysis we’ll want to combine them all into one big DataFrame. This is a great use case for looping, since we’re doing the same thing (reading a file into a DataFrame) multiple times.</p>
<p>First, create a list of the files, Later we will loop through this list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;s1.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;s2.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;s3.csv&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Next, we create an empty list to append the files to. Note that what we’re doing here doesn’t actually create one big DataFrame (we’ll see how to do that in the next chapter). For now, we’re creating a list in which each list item is the DataFrame from one of the files we read. We name the list in a way that makes it obvious that it’s a list of DataFrames.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_list</span> <span class="o">=</span> <span class="p">[]</span>
</pre></div>
</div>
</div>
</div>
<p>Finally, use a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop to read the files in. This will cycle through the items in the <code class="docutils literal notranslate"><span class="pre">filenames</span></code> list; each time through the loop, <code class="docutils literal notranslate"><span class="pre">filename</span></code> has the value of the current file name, and we used the DataFrame <code class="docutils literal notranslate"><span class="pre">append()</span></code> method to add the data from that file to</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">:</span>
    <span class="n">df_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">filename</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p>When we view the contents of the list, we see each dataset, with its two columns (with headers saying what they are), and commas separating the list entries, as is normal.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_list</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[   trial        RT
 0      1  0.508971
 1      2  0.389858
 2      3  0.404175
 3      4  0.269520
 4      5  0.437765
 5      6  0.368142
 6      7  0.400544
 7      8  0.335198
 8      9  0.341722
 9     10  0.439583,
    trial        RT
 0      1  0.433094
 1      2  0.392526
 2      3  0.396831
 3      4  0.417988
 4      5  0.371810
 5      6  0.659228
 6      7  0.411051
 7      8  0.409580
 8      9  0.486828
 9     10  0.468912,
    trial        RT
 0      1  0.322099
 1      2  0.396106
 2      3  0.384297
 3      4  0.364524
 4      5  0.454075
 5      6  0.494156
 6      7  0.492787
 7      8  0.506836
 8      9  0.340722
 9     10  0.704491]
</pre></div>
</div>
</div>
</div>
<p>The output above isn’t nicely formatted as a pandas DataFrame, because Python is treating the DataFrames as list entries. But, if we ask to see one of the list entries, things look prettier:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>trial</th>
      <th>RT</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0.508971</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>0.389858</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>0.404175</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>0.269520</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>0.437765</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6</td>
      <td>0.368142</td>
    </tr>
    <tr>
      <th>6</th>
      <td>7</td>
      <td>0.400544</td>
    </tr>
    <tr>
      <th>7</th>
      <td>8</td>
      <td>0.335198</td>
    </tr>
    <tr>
      <th>8</th>
      <td>9</td>
      <td>0.341722</td>
    </tr>
    <tr>
      <th>9</th>
      <td>10</td>
      <td>0.439583</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="adding-columns-of-data-to-a-dataframe">
<h2>Adding columns of data to a DataFrame<a class="headerlink" href="#adding-columns-of-data-to-a-dataframe" title="Permalink to this headline">¶</a></h2>
<p>One simple way to combine data is to add a column from one DataFrame to another. We can do this for RT from each participant.</p>
<p>First we take the first data file, from <code class="docutils literal notranslate"><span class="pre">df_list</span></code>, and make it just a free-standing DataFrame called <code class="docutils literal notranslate"><span class="pre">df</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Now we add the data from participant 2 as a new column in <code class="docutils literal notranslate"><span class="pre">df</span></code>. pandas knows to make a new column if you assign something to a column named that doesn’t already exist. In this case we’re adding a new column called <code class="docutils literal notranslate"><span class="pre">s2</span></code>.
Since participant 2’s data are in the second entry in <code class="docutils literal notranslate"><span class="pre">df_list</span></code>, we use <code class="docutils literal notranslate"><span class="pre">df_list[1]</span></code>. We also need to specify which column to copy over, which we do by specifying <code class="docutils literal notranslate"><span class="pre">['RT']</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;s2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_list</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;RT&#39;</span><span class="p">]</span>

<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>trial</th>
      <th>RT</th>
      <th>s2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0.508971</td>
      <td>0.433094</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>0.389858</td>
      <td>0.392526</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>0.404175</td>
      <td>0.396831</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>0.269520</td>
      <td>0.417988</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>0.437765</td>
      <td>0.371810</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6</td>
      <td>0.368142</td>
      <td>0.659228</td>
    </tr>
    <tr>
      <th>6</th>
      <td>7</td>
      <td>0.400544</td>
      <td>0.411051</td>
    </tr>
    <tr>
      <th>7</th>
      <td>8</td>
      <td>0.335198</td>
      <td>0.409580</td>
    </tr>
    <tr>
      <th>8</th>
      <td>9</td>
      <td>0.341722</td>
      <td>0.486828</td>
    </tr>
    <tr>
      <th>9</th>
      <td>10</td>
      <td>0.439583</td>
      <td>0.468912</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>One issue with this is that s1’s data is called “RT”, but we might want to call it “s1”. We can rename the column with <code class="docutils literal notranslate"><span class="pre">pd.rename()</span></code>, using a dictionary to specify the mapping between old and new names. Note we have to assign the output of <code class="docutils literal notranslate"><span class="pre">df.rename()</span></code> back to <code class="docutils literal notranslate"><span class="pre">df</span></code>, because <code class="docutils literal notranslate"><span class="pre">.rename()</span></code> is a method that produces output, but doesn’t, by default, change the contents of what it takes as input. (If you don’t understand this, we go into more detail later.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;RT&#39;</span><span class="p">:</span><span class="s1">&#39;s1&#39;</span><span class="p">})</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>trial</th>
      <th>s1</th>
      <th>s2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0.508971</td>
      <td>0.433094</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>0.389858</td>
      <td>0.392526</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>0.404175</td>
      <td>0.396831</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>0.269520</td>
      <td>0.417988</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>0.437765</td>
      <td>0.371810</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6</td>
      <td>0.368142</td>
      <td>0.659228</td>
    </tr>
    <tr>
      <th>6</th>
      <td>7</td>
      <td>0.400544</td>
      <td>0.411051</td>
    </tr>
    <tr>
      <th>7</th>
      <td>8</td>
      <td>0.335198</td>
      <td>0.409580</td>
    </tr>
    <tr>
      <th>8</th>
      <td>9</td>
      <td>0.341722</td>
      <td>0.486828</td>
    </tr>
    <tr>
      <th>9</th>
      <td>10</td>
      <td>0.439583</td>
      <td>0.468912</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="reindexing-dataframes">
<h2>Reindexing DataFrames<a class="headerlink" href="#reindexing-dataframes" title="Permalink to this headline">¶</a></h2>
<p>The <strong>index</strong> of a DataFrame is the set of labels for rows. Just as columns have names, or labels, rows have indexes. By default, these indexes are just numbers, starting from 0. But, you can change the index to anything you want, such as months of the year, participant ID codes, etc.. You can also use the index to sort the DataFrame, or access specific rows.</p>
<p>If you’re familiar with Excel or other spreadsheet software, you’re familiar with indices - they are the row numbers in grey that appear on the left side of the spreadsheet:</p>
<img src='images/spreadsheet_indices.png' width=150>
<p>In pandas, indexes have some “superpowers” relative to Excel: firstly, although they are numbers by default, you can change them top whatever you want. Secondly, a DataFrame can have more than one index (multi-indexing, which we’ll cover later).</p>
<p>The DataCamp lesson introduces the (convenient, but not universal) convention of calling the individual labels for rows <em>indices</em>, while <em>indexes</em> refers to the more general class of labeling rows. So if we’re referring to the sets of labels for two different DataFrames, we’d call them “indexes”, but if we’re referring to the row labels then the set of labels for one DataFrame can be referred to as its “indices”. On the other hand, if you find this a bit confusing it’s not the most important thing to keep straight in your head. The important thing to know is that DataFrame rows have indices, just like columns have column labels.</p>
<p>Carrying on with our sample data from above, we could use <code class="docutils literal notranslate"><span class="pre">trial</span></code> as the index for our data, rather than having it as a column within the data. If we’ve already loaded the data, we can do this with the <code class="docutils literal notranslate"><span class="pre">.set_index()</span></code> method:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;trial&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>s1</th>
      <th>s2</th>
    </tr>
    <tr>
      <th>trial</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>0.508971</td>
      <td>0.433094</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.389858</td>
      <td>0.392526</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.404175</td>
      <td>0.396831</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.269520</td>
      <td>0.417988</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0.437765</td>
      <td>0.371810</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0.368142</td>
      <td>0.659228</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0.400544</td>
      <td>0.411051</td>
    </tr>
    <tr>
      <th>8</th>
      <td>0.335198</td>
      <td>0.409580</td>
    </tr>
    <tr>
      <th>9</th>
      <td>0.341722</td>
      <td>0.486828</td>
    </tr>
    <tr>
      <th>10</th>
      <td>0.439583</td>
      <td>0.468912</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>However, if you already know there’s a column in your data that you want to use as the index, you can specify that when you first import the data, using the <code class="docutils literal notranslate"><span class="pre">index_col=</span></code> argument to <code class="docutils literal notranslate"><span class="pre">pd.read_csv()</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">:</span>
    <span class="n">df_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="s1">&#39;trial&#39;</span><span class="p">))</span>
    
<span class="n">df_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RT</th>
    </tr>
    <tr>
      <th>trial</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>0.508971</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.389858</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.404175</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.269520</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0.437765</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0.368142</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0.400544</td>
    </tr>
    <tr>
      <th>8</th>
      <td>0.335198</td>
    </tr>
    <tr>
      <th>9</th>
      <td>0.341722</td>
    </tr>
    <tr>
      <th>10</th>
      <td>0.439583</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Some important things to note here:</p>
<ul class="simple">
<li><p>Compared to the output earlier, which had 3 columns, the output here only has two columns. In fact the first “column” in a DataFrame is the index, not an actual column. Since we used <code class="docutils literal notranslate"><span class="pre">trial</span></code> as the index here, we don’t have a separate, unlabeled “column” of index values starting from 0, as we did earlier. I’m using “column” in quotes to refer to the index because it’s not treated as a column by pandas - it’s the index.</p></li>
<li><p>we put <code class="docutils literal notranslate"><span class="pre">'trial'</span></code> in quotation marks, because it’s a string</p></li>
<li><p>note that in the above command, the <code class="docutils literal notranslate"><span class="pre">pd.read_csv()</span></code> command is embedded inside the <code class="docutils literal notranslate"><span class="pre">.append()</span></code> method. The argument to <code class="docutils literal notranslate"><span class="pre">pd.read_csv()</span></code> needs to be inside the parentheses for <em>that</em> command, and not the outer parentheses that enclose the input to <code class="docutils literal notranslate"><span class="pre">df_list.append()</span></code></p></li>
</ul>
</div>
<div class="section" id="applications-of-reindexing">
<h2>Applications of reindexing<a class="headerlink" href="#applications-of-reindexing" title="Permalink to this headline">¶</a></h2>
<p>Reindexing can be useful if you have, or anticipate, missing data. For example, here’s some data from three different rats who were timed running through a maze. This was an 8-day study, but not every rat was tested every day. So one animal may have data from days 1-3 and 5-8 of the study, but not day 4. When we import and combine data, though, we want to ensure that the indexing of the data reflects the days they were tested on (e.g., if a rat missed day 4, we want their day 5 data to have the index ‘5’ even though that would be the fourth data point we have for them).</p>
<p>When we load in the data, we find that it doesn’t have a column that reflects the days that each animal was tested on, so each data set is indexed sequentially from 0:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">maze_files</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;maze_data_1.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;maze_data_2.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;maze_data_3.csv&#39;</span><span class="p">]</span>
<span class="n">maze_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">maze_files</span><span class="p">:</span>
    <span class="n">maze_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">filename</span><span class="p">))</span>
    
<span class="n">maze_list</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[   maze_time
 0       6.00
 1       7.56
 2       2.17
 3       2.39
 4       5.60
 5       8.94
 6       2.95
 7       3.30,
    maze_time
 0       7.32
 1       4.12
 2       6.28
 3       4.20
 4       2.11
 5       4.98
 6       7.44,
    maze_time
 0       2.55
 1       4.00
 2       6.00
 3       8.38
 4       6.53
 5       3.01]
</pre></div>
</div>
</div>
</div>
<p>Although the files aren’t indexed, but we have a record (written in a lab notebook) of which days each rat was tested on:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">r1_days</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;day1&#39;</span><span class="p">,</span> <span class="s1">&#39;day2&#39;</span><span class="p">,</span> <span class="s1">&#39;day3&#39;</span><span class="p">,</span> <span class="s1">&#39;day4&#39;</span><span class="p">,</span> <span class="s1">&#39;day5&#39;</span><span class="p">,</span> <span class="s1">&#39;day6&#39;</span><span class="p">,</span> <span class="s1">&#39;day7&#39;</span><span class="p">,</span> <span class="s1">&#39;day8&#39;</span><span class="p">]</span>
<span class="n">r2_days</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;day1&#39;</span><span class="p">,</span> <span class="s1">&#39;day2&#39;</span><span class="p">,</span> <span class="s1">&#39;day3&#39;</span><span class="p">,</span> <span class="s1">&#39;day5&#39;</span><span class="p">,</span> <span class="s1">&#39;day6&#39;</span><span class="p">,</span> <span class="s1">&#39;day7&#39;</span><span class="p">,</span> <span class="s1">&#39;day8&#39;</span><span class="p">]</span>
<span class="n">r3_days</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;day1&#39;</span><span class="p">,</span> <span class="s1">&#39;day2&#39;</span><span class="p">,</span> <span class="s1">&#39;day4&#39;</span><span class="p">,</span> <span class="s1">&#39;day5&#39;</span><span class="p">,</span> <span class="s1">&#39;day6&#39;</span><span class="p">,</span> <span class="s1">&#39;day7&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>So we can use this information, along with the <code class="docutils literal notranslate"><span class="pre">.reindex()</span></code> method, to set the indexing appropriately for each animal. First we have to add the list of days on which testing actually occurred to each rat’s data file, because we can only reindex from a column within the DataFrame.</p>
<p>(Note: there are ways to do this more efficiently using looping, but for now we’ll focus on reindexing and not looping.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">maze_list</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;days&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">r1_days</span>
<span class="n">maze_list</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;days&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">r2_days</span>
<span class="n">maze_list</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="s1">&#39;days&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">r3_days</span>

<span class="n">maze_list</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[   maze_time  days
 0       6.00  day1
 1       7.56  day2
 2       2.17  day3
 3       2.39  day4
 4       5.60  day5
 5       8.94  day6
 6       2.95  day7
 7       3.30  day8,
    maze_time  days
 0       7.32  day1
 1       4.12  day2
 2       6.28  day3
 3       4.20  day5
 4       2.11  day6
 5       4.98  day7
 6       7.44  day8,
    maze_time  days
 0       2.55  day1
 1       4.00  day2
 2       6.00  day4
 3       8.38  day5
 4       6.53  day6
 5       3.01  day7]
</pre></div>
</div>
</div>
</div>
<p>Then we specify the <code class="docutils literal notranslate"><span class="pre">days</span></code> column as the index in each DataFrame:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">maze_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">maze_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;days&#39;</span><span class="p">)</span>
<span class="n">maze_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">maze_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;days&#39;</span><span class="p">)</span>
<span class="n">maze_list</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">maze_list</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;days&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">maze_list</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[      maze_time
 days           
 day1       6.00
 day2       7.56
 day3       2.17
 day4       2.39
 day5       5.60
 day6       8.94
 day7       2.95
 day8       3.30,
       maze_time
 days           
 day1       7.32
 day2       4.12
 day3       6.28
 day5       4.20
 day6       2.11
 day7       4.98
 day8       7.44,
       maze_time
 days           
 day1       2.55
 day2       4.00
 day4       6.00
 day5       8.38
 day6       6.53
 day7       3.01]
</pre></div>
</div>
</div>
</div>
<p>So now each rat’s DataFrame is indexed by day numbers, and the days with no data are not represented in the DataFrame. But if we want all DataFrames to contain rows (and indexes) for all days, we can do this. As it happens, the first rat’s data is complete - it has data from all of the study days. So we can use this as the index for the other datasets. (If we didn’t have one data set that was complete, we could make a list containing all the indices we wanted, and use that to reindex).</p>
<p>Pay attention below to the fact that the input to <code class="docutils literal notranslate"><span class="pre">.reindex()</span></code> is <code class="docutils literal notranslate"><span class="pre">maze_list[0].index</span></code> — the <em>index</em> of <code class="docutils literal notranslate"><span class="pre">maze_list[0]</span></code> — and not just <code class="docutils literal notranslate"><span class="pre">maze_list[0]</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">maze_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">maze_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">maze_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">maze_list</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">maze_list</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">maze_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

<span class="n">maze_list</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[      maze_time
 days           
 day1       6.00
 day2       7.56
 day3       2.17
 day4       2.39
 day5       5.60
 day6       8.94
 day7       2.95
 day8       3.30,
       maze_time
 days           
 day1       7.32
 day2       4.12
 day3       6.28
 day4        NaN
 day5       4.20
 day6       2.11
 day7       4.98
 day8       7.44,
       maze_time
 days           
 day1       2.55
 day2       4.00
 day3        NaN
 day4       6.00
 day5       8.38
 day6       6.53
 day7       3.01
 day8        NaN]
</pre></div>
</div>
</div>
</div>
<p>Reindexing is useful in some cases. However, in other cases it’s not really necessary. For example, if we wanted to merge the data from all three rats into one DataFrame, we could do so (similar to the example with RT data earlier) without reindexing, and pandas would automatically fill in the missing data with <code class="docutils literal notranslate"><span class="pre">NaN</span></code>s:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">maze_files</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;maze_data_1.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;maze_data_2.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;maze_data_3.csv&#39;</span><span class="p">]</span>

<span class="n">r1_days</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;day1&#39;</span><span class="p">,</span> <span class="s1">&#39;day2&#39;</span><span class="p">,</span> <span class="s1">&#39;day3&#39;</span><span class="p">,</span> <span class="s1">&#39;day4&#39;</span><span class="p">,</span> <span class="s1">&#39;day5&#39;</span><span class="p">,</span> <span class="s1">&#39;day6&#39;</span><span class="p">,</span> <span class="s1">&#39;day7&#39;</span><span class="p">,</span> <span class="s1">&#39;day8&#39;</span><span class="p">]</span>
<span class="n">r2_days</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;day1&#39;</span><span class="p">,</span> <span class="s1">&#39;day2&#39;</span><span class="p">,</span> <span class="s1">&#39;day3&#39;</span><span class="p">,</span> <span class="s1">&#39;day5&#39;</span><span class="p">,</span> <span class="s1">&#39;day6&#39;</span><span class="p">,</span> <span class="s1">&#39;day7&#39;</span><span class="p">,</span> <span class="s1">&#39;day8&#39;</span><span class="p">]</span>
<span class="n">r3_days</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;day1&#39;</span><span class="p">,</span> <span class="s1">&#39;day2&#39;</span><span class="p">,</span> <span class="s1">&#39;day4&#39;</span><span class="p">,</span> <span class="s1">&#39;day5&#39;</span><span class="p">,</span> <span class="s1">&#39;day6&#39;</span><span class="p">,</span> <span class="s1">&#39;day7&#39;</span><span class="p">]</span>

<span class="n">maze_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">maze_files</span><span class="p">:</span>
    <span class="n">maze_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">filename</span><span class="p">))</span>


<span class="n">maze_list</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;days&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">r1_days</span>
<span class="n">maze_list</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;days&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">r2_days</span>
<span class="n">maze_list</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="s1">&#39;days&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">r3_days</span>

<span class="n">maze_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">maze_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;days&#39;</span><span class="p">)</span>
<span class="n">maze_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">maze_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;days&#39;</span><span class="p">)</span>
<span class="n">maze_list</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">maze_list</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;days&#39;</span><span class="p">)</span>

<span class="n">rat_df</span> <span class="o">=</span> <span class="n">maze_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">rat_df</span> <span class="o">=</span> <span class="n">rat_df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;maze_time&#39;</span><span class="p">:</span><span class="s1">&#39;r1&#39;</span><span class="p">})</span>


<span class="n">rat_df</span><span class="p">[</span><span class="s1">&#39;r2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">maze_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">rat_df</span><span class="p">[</span><span class="s1">&#39;r3&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">maze_list</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="n">rat_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>r1</th>
      <th>r2</th>
      <th>r3</th>
    </tr>
    <tr>
      <th>days</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>day1</th>
      <td>6.00</td>
      <td>7.32</td>
      <td>2.55</td>
    </tr>
    <tr>
      <th>day2</th>
      <td>7.56</td>
      <td>4.12</td>
      <td>4.00</td>
    </tr>
    <tr>
      <th>day3</th>
      <td>2.17</td>
      <td>6.28</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>day4</th>
      <td>2.39</td>
      <td>NaN</td>
      <td>6.00</td>
    </tr>
    <tr>
      <th>day5</th>
      <td>5.60</td>
      <td>4.20</td>
      <td>8.38</td>
    </tr>
    <tr>
      <th>day6</th>
      <td>8.94</td>
      <td>2.11</td>
      <td>6.53</td>
    </tr>
    <tr>
      <th>day7</th>
      <td>2.95</td>
      <td>4.98</td>
      <td>3.01</td>
    </tr>
    <tr>
      <th>day8</th>
      <td>3.30</td>
      <td>7.44</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="bonus-section-looping">
<h2>Bonus Section: Looping<a class="headerlink" href="#bonus-section-looping" title="Permalink to this headline">¶</a></h2>
<p>Above we noted that it would be more efficient (pythonic) to use a loop to read the files and set the indexes. Below is the same example as above, but using a loop rather than hard-coding the commands for every data file.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">maze_files</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;maze_data_1.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;maze_data_2.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;maze_data_3.csv&#39;</span><span class="p">]</span>

<span class="n">r1_days</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;day1&#39;</span><span class="p">,</span> <span class="s1">&#39;day2&#39;</span><span class="p">,</span> <span class="s1">&#39;day3&#39;</span><span class="p">,</span> <span class="s1">&#39;day4&#39;</span><span class="p">,</span> <span class="s1">&#39;day5&#39;</span><span class="p">,</span> <span class="s1">&#39;day6&#39;</span><span class="p">,</span> <span class="s1">&#39;day7&#39;</span><span class="p">,</span> <span class="s1">&#39;day8&#39;</span><span class="p">]</span>
<span class="n">r2_days</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;day1&#39;</span><span class="p">,</span> <span class="s1">&#39;day2&#39;</span><span class="p">,</span> <span class="s1">&#39;day3&#39;</span><span class="p">,</span> <span class="s1">&#39;day5&#39;</span><span class="p">,</span> <span class="s1">&#39;day6&#39;</span><span class="p">,</span> <span class="s1">&#39;day7&#39;</span><span class="p">,</span> <span class="s1">&#39;day8&#39;</span><span class="p">]</span>
<span class="n">r3_days</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;day1&#39;</span><span class="p">,</span> <span class="s1">&#39;day2&#39;</span><span class="p">,</span> <span class="s1">&#39;day4&#39;</span><span class="p">,</span> <span class="s1">&#39;day5&#39;</span><span class="p">,</span> <span class="s1">&#39;day6&#39;</span><span class="p">,</span> <span class="s1">&#39;day7&#39;</span><span class="p">]</span>
<span class="c1"># Combine these into a list of lists we can loop through:</span>
<span class="n">days_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">r1_days</span><span class="p">,</span> <span class="n">r2_days</span><span class="p">,</span> <span class="n">r3_days</span><span class="p">]</span>

<span class="n">maze_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="c1"># use enumerate() to allow looping through multiple lists in parallel. </span>
<span class="k">for</span> <span class="n">counter</span><span class="p">,</span> <span class="n">filename</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">maze_files</span><span class="p">):</span>
    <span class="n">maze_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">filename</span><span class="p">))</span>
    <span class="n">maze_list</span><span class="p">[</span><span class="n">counter</span><span class="p">][</span><span class="s1">&#39;days&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">days_list</span><span class="p">[</span><span class="n">counter</span><span class="p">]</span>
    <span class="n">maze_list</span><span class="p">[</span><span class="n">counter</span><span class="p">]</span> <span class="o">=</span> <span class="n">maze_list</span><span class="p">[</span><span class="n">counter</span><span class="p">]</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;days&#39;</span><span class="p">)</span>

<span class="n">rat_df</span> <span class="o">=</span> <span class="n">maze_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">rat_df</span> <span class="o">=</span> <span class="n">rat_df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;maze_time&#39;</span><span class="p">:</span><span class="s1">&#39;r1&#39;</span><span class="p">})</span>
<span class="n">rat_df</span><span class="p">[</span><span class="s1">&#39;r2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">maze_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">rat_df</span><span class="p">[</span><span class="s1">&#39;r3&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">maze_list</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="n">rat_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>r1</th>
      <th>r2</th>
      <th>r3</th>
    </tr>
    <tr>
      <th>days</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>day1</th>
      <td>6.00</td>
      <td>7.32</td>
      <td>2.55</td>
    </tr>
    <tr>
      <th>day2</th>
      <td>7.56</td>
      <td>4.12</td>
      <td>4.00</td>
    </tr>
    <tr>
      <th>day3</th>
      <td>2.17</td>
      <td>6.28</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>day4</th>
      <td>2.39</td>
      <td>NaN</td>
      <td>6.00</td>
    </tr>
    <tr>
      <th>day5</th>
      <td>5.60</td>
      <td>4.20</td>
      <td>8.38</td>
    </tr>
    <tr>
      <th>day6</th>
      <td>8.94</td>
      <td>2.11</td>
      <td>6.53</td>
    </tr>
    <tr>
      <th>day7</th>
      <td>2.95</td>
      <td>4.98</td>
      <td>3.01</td>
    </tr>
    <tr>
      <th>day8</th>
      <td>3.30</td>
      <td>7.44</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="section" id="the-enumerate-function">
<h3>The <code class="docutils literal notranslate"><span class="pre">enumerate()</span></code> function<a class="headerlink" href="#the-enumerate-function" title="Permalink to this headline">¶</a></h3>
<p>Note that in the <code class="docutils literal notranslate"><span class="pre">for</span></code> loop, w use the <code class="docutils literal notranslate"><span class="pre">enumerate()</span></code> function. This can be handy in situations like this, where we want to loop through two lists “in parallel” — in other words, when we are at the first entry in one list (<code class="docutils literal notranslate"><span class="pre">maze_files</span></code>) we also want the first entry in the second list (<code class="docutils literal notranslate"><span class="pre">days_list</span></code>). Normally, whe you loop through a list using <code class="docutils literal notranslate"><span class="pre">for</span></code>, you assign a value of the current list item to a variable. For example, in <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">filename</span> <span class="pre">in</span> <span class="pre">maze_files:</span></code>, the value of <code class="docutils literal notranslate"><span class="pre">filename</span></code> is updated with the current list item each time through the loop. Using <code class="docutils literal notranslate"><span class="pre">enumerate()</span></code>, we assign <em>two</em> values each time through the loop: <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">counter,</span> <span class="pre">filename</span> <span class="pre">in</span> <span class="pre">enumerate(maze_files):</span></code>. In this case, <code class="docutils literal notranslate"><span class="pre">counter</span></code> will enumerate the number of times it’s gone through the loop - i.e, take on a numerical value — the current iteration, while <code class="docutils literal notranslate"><span class="pre">filename</span></code> will still be the value of the current list item:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">counter</span><span class="p">,</span> <span class="n">filename</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">maze_files</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;counter = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">counter</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;; filename = &#39;</span> <span class="o">+</span> <span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>counter = 0; filename = maze_data_1.csv
counter = 1; filename = maze_data_2.csv
counter = 2; filename = maze_data_3.csv
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="arithmetic-with-series-and-dataframes">
<h2>Arithmetic with Series and DataFrames<a class="headerlink" href="#arithmetic-with-series-and-dataframes" title="Permalink to this headline">¶</a></h2>
<p>pandas uses <strong>broadcasting</strong> when we apply an arithmetic function to a Series or DataFrame. For example, from above here’s our RT data from two participants:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>trial</th>
      <th>s1</th>
      <th>s2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0.508971</td>
      <td>0.433094</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>0.389858</td>
      <td>0.392526</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>0.404175</td>
      <td>0.396831</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>0.269520</td>
      <td>0.417988</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>0.437765</td>
      <td>0.371810</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6</td>
      <td>0.368142</td>
      <td>0.659228</td>
    </tr>
    <tr>
      <th>6</th>
      <td>7</td>
      <td>0.400544</td>
      <td>0.411051</td>
    </tr>
    <tr>
      <th>7</th>
      <td>8</td>
      <td>0.335198</td>
      <td>0.409580</td>
    </tr>
    <tr>
      <th>8</th>
      <td>9</td>
      <td>0.341722</td>
      <td>0.486828</td>
    </tr>
    <tr>
      <th>9</th>
      <td>10</td>
      <td>0.439583</td>
      <td>0.468912</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>RT is in seconds, but often we want to report RT in milliseconds. To do this, we could multiply the entire DataFrame by 1000 (since there are 1000 ms in 1 s), but this would apply to all columns, including trial number:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">*</span> <span class="mi">1000</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>trial</th>
      <th>s1</th>
      <th>s2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1000</td>
      <td>508.971072</td>
      <td>433.093893</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2000</td>
      <td>389.857974</td>
      <td>392.526034</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3000</td>
      <td>404.175466</td>
      <td>396.830804</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4000</td>
      <td>269.520309</td>
      <td>417.987737</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5000</td>
      <td>437.764713</td>
      <td>371.810078</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6000</td>
      <td>368.141756</td>
      <td>659.228422</td>
    </tr>
    <tr>
      <th>6</th>
      <td>7000</td>
      <td>400.544278</td>
      <td>411.051235</td>
    </tr>
    <tr>
      <th>7</th>
      <td>8000</td>
      <td>335.198066</td>
      <td>409.580168</td>
    </tr>
    <tr>
      <th>8</th>
      <td>9000</td>
      <td>341.722042</td>
      <td>486.828076</td>
    </tr>
    <tr>
      <th>9</th>
      <td>10000</td>
      <td>439.583357</td>
      <td>468.912134</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>So instead, we can apply the math only to specified columns:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;s1&#39;</span><span class="p">,</span><span class="s1">&#39;s2&#39;</span><span class="p">]]</span> <span class="o">*</span> <span class="mi">1000</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>s1</th>
      <th>s2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>508.971072</td>
      <td>433.093893</td>
    </tr>
    <tr>
      <th>1</th>
      <td>389.857974</td>
      <td>392.526034</td>
    </tr>
    <tr>
      <th>2</th>
      <td>404.175466</td>
      <td>396.830804</td>
    </tr>
    <tr>
      <th>3</th>
      <td>269.520309</td>
      <td>417.987737</td>
    </tr>
    <tr>
      <th>4</th>
      <td>437.764713</td>
      <td>371.810078</td>
    </tr>
    <tr>
      <th>5</th>
      <td>368.141756</td>
      <td>659.228422</td>
    </tr>
    <tr>
      <th>6</th>
      <td>400.544278</td>
      <td>411.051235</td>
    </tr>
    <tr>
      <th>7</th>
      <td>335.198066</td>
      <td>409.580168</td>
    </tr>
    <tr>
      <th>8</th>
      <td>341.722042</td>
      <td>486.828076</td>
    </tr>
    <tr>
      <th>9</th>
      <td>439.583357</td>
      <td>468.912134</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>pandas also provides methods for applying some common arithmetic operations to DataFrames. This includes simple operation slike addition (<code class="docutils literal notranslate"><span class="pre">.add()</span></code> and multiplication (<code class="docutils literal notranslate"><span class="pre">.multiply()</span></code>), but also more complex “convenience functions” like <code class="docutils literal notranslate"><span class="pre">.mean()</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;s1&#39;</span><span class="p">,</span><span class="s1">&#39;s2&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>s1    0.389548
s2    0.444785
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Note that this produces two values, the mean of each column. WHile the default is to apply the function “column-wise”, there’s also an argument that allows us to compute the mean of each row, instead:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;s1&#39;</span><span class="p">,</span><span class="s1">&#39;s2&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    0.471032
1    0.391192
2    0.400503
3    0.343754
4    0.404787
5    0.513685
6    0.405798
7    0.372389
8    0.414275
9    0.454248
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>By default, these arithmetic methods will ignore any NaN values. However, we can tell pandas to replace <code class="docutils literal notranslate"><span class="pre">NaN</span></code>s with some other value. For example, let’s use the rat data which had <code class="docutils literal notranslate"><span class="pre">NaN</span></code> values:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rat_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>r1</th>
      <th>r2</th>
      <th>r3</th>
    </tr>
    <tr>
      <th>days</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>day1</th>
      <td>6.00</td>
      <td>7.32</td>
      <td>2.55</td>
    </tr>
    <tr>
      <th>day2</th>
      <td>7.56</td>
      <td>4.12</td>
      <td>4.00</td>
    </tr>
    <tr>
      <th>day3</th>
      <td>2.17</td>
      <td>6.28</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>day4</th>
      <td>2.39</td>
      <td>NaN</td>
      <td>6.00</td>
    </tr>
    <tr>
      <th>day5</th>
      <td>5.60</td>
      <td>4.20</td>
      <td>8.38</td>
    </tr>
    <tr>
      <th>day6</th>
      <td>8.94</td>
      <td>2.11</td>
      <td>6.53</td>
    </tr>
    <tr>
      <th>day7</th>
      <td>2.95</td>
      <td>4.98</td>
      <td>3.01</td>
    </tr>
    <tr>
      <th>day8</th>
      <td>3.30</td>
      <td>7.44</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>If we wanted to sum the data from rats 1 and 2, we would get <code class="docutils literal notranslate"><span class="pre">NaN</span></code> results if any inputs were <code class="docutils literal notranslate"><span class="pre">NaN</span></code> (like day4):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rat_df</span><span class="p">[</span><span class="s1">&#39;r1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">rat_df</span><span class="p">[</span><span class="s1">&#39;r2&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>days
day1    13.32
day2    11.68
day3     8.45
day4      NaN
day5     9.80
day6    11.05
day7     7.93
day8    10.74
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>But we could use <code class="docutils literal notranslate"><span class="pre">fill_value=0</span></code> to tell pandas to treat these as zeros instead:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rat_df</span><span class="p">[</span><span class="s1">&#39;r1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">rat_df</span><span class="p">[</span><span class="s1">&#39;r2&#39;</span><span class="p">],</span> <span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>days
day1    13.32
day2    11.68
day3     8.45
day4     2.39
day5     9.80
day6    11.05
day7     7.93
day8    10.74
dtype: float64
</pre></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./3"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="lesson2.html" title="previous page">Lesson 2: Intermediate Python</a>
    <a class='right-next' id="next-link" href="lesson5_ch2.html" title="next page">Chapter 2: Concatenating Data</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Aaron J Newman<br/>
        
            &copy; Copyright 2020. This work is licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 Unported License.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="../_static/js/index.js"></script>
    
    <!-- Google Analytics -->
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-171426664-2', 'auto');
      ga('set', 'anonymizeIp', true);
      ga('send', 'pageview');
    </script>
    <script async src='https://www.google-analytics.com/analytics.js'></script>
    <!-- End Google Analytics -->
    
  </body>
</html>